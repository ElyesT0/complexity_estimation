{"mappings":"ACMA,MAAM,EAAa,SAAS,aAAa,CAAC,iBACpC,EAAY,SAAS,aAAa,CAAC,gBACnC,EAAkB,SAAS,aAAa,CAAC,sBACzC,EAAqB,SAAS,aAAa,CAAC,yBAC5C,EAAQ,SAAS,aAAa,CAAC,UAC/B,EAAU,SAAS,aAAa,CAAC,YACjC,EAAgB,SAAS,aAAa,CAAC,gBAC7C,IAAI,EAAgB,CAAA,EAOpB,MAAM,EAAe,OAAO,MAAM,CAAC,KAAK,CAElC,EAAgB,OAAO,WAAW,AAGxC,CAAA,SAAS,aAAa,CAAC,cAAc,KAAK,CAAC,MAAM,CAAG,CAAC,EACnD,EAAgB,GACjB,EAAE,CAAC,CACJ,SAAS,aAAa,CAAC,cAAc,KAAK,CAAC,KAAK,CAAG,CAAC,EAClD,EAAe,GAChB,EAAE,CAAC,CAGJ,SAAS,aAAa,CAAC,UAAU,KAAK,CAAC,MAAM,CAAG,CAAC,EAAE,GAAW,EAAc,EAAE,CAAC,CAC/E,SAAS,aAAa,CAAC,UAAU,KAAK,CAAC,KAAK,CAAG,CAAC,EAAE,EAAa,EAAE,CAAC,CAUlE,MAAM,EAAY,WAChB,EAAM,SAAS,CAAC,GAAG,CAAC,UACpB,EAAQ,SAAS,CAAC,GAAG,CAAC,SACxB,EAkBM,EAAiB,WAEjB,GACF,EAAU,SAAS,CAAC,MAAM,CAAC,UAC3B,EAAW,SAAS,CAAC,GAAG,CAAC,WAEzB,EAAU,SAAS,CAAC,GAAG,CAAC,SAE5B,EAOA,EAAW,gBAAgB,CAAC,QAzCV,WAChB,EAAM,SAAS,CAAC,MAAM,CAAC,UACvB,EAAQ,SAAS,CAAC,MAAM,CAAC,SAC3B,GAyCA,EAAgB,gBAAgB,CAAC,QAAS,WACxC,EAAgB,CAAA,EAChB,IACA,EAAW,SAAS,CAAC,GAAG,CAAC,cACzB,EAAW,SAAS,CAAC,MAAM,CAAC,YAC5B,GACF,GAEA,EAAmB,gBAAgB,CAAC,QAAS,WAC3C,EAAgB,CAAA,EAChB,IACA,EAAW,SAAS,CAAC,GAAG,CAAC,YACzB,EAAW,SAAS,CAAC,MAAM,CAAC,cAC5B,GACF,GAGA,EAAQ,gBAAgB,CAAC,QAAS,GAClC,EAAc,gBAAgB,CAAC,QAAS,GAIzB,iCAAiC,IAAI,CAAC,UAAU,SAAS,EACtD,UAAU,SAAS,CAAC,KAAK,CAAC,SAC5C,QAAQ,GAAG,CAAC,AAAsC,MAAtC,UAAU,SAAS,CAAC,KAAK,CAAC","sources":["<anon>","script_welcome.js"],"sourcesContent":["\"use strict\";\n/* \n=========== Variables and Selectors ===========\n*/ const btnConsent = document.querySelector(\".btn--consent\");\nconst btnSurvey = document.querySelector(\".btn--survey\");\nconst btnConsentAgree = document.querySelector(\".btn-consent-agree\");\nconst btnConsentDisagree = document.querySelector(\".btn-consent-disagree\");\nconst modal = document.querySelector(\".modal\");\nconst overlay = document.querySelector(\".overlay\");\nconst btnCloseModal = document.querySelector(\".close-modal\");\nvar consentFilled = false;\n/* \n=========== Fixing page design parameters ===========\n*/ const set_margin_top = 12; //copy margin top from the container element (pixels)\nconst set_margin_side = 6; //copy margin side from the container element (pixels)\nconst window_width = window.screen.width;\n// const window_height = window.screen.height; // NOTE changed for smartphone\nconst window_height = window.innerHeight;\n//set size of container\ndocument.querySelector(\".container\").style.height = `${window_height - set_margin_top * 2}px`;\ndocument.querySelector(\".container\").style.width = `${window_width - set_margin_side * 3.5}px`;\n//set size of modal\ndocument.querySelector(\".modal\").style.height = `${0.9 * window_height}px`;\ndocument.querySelector(\".modal\").style.width = `${window_width}px`;\n/* \n=========== Functions definition ===========\n*/ const showModal = function() {\n    modal.classList.remove(\"hidden\");\n    overlay.classList.remove(\"hidden\");\n};\nconst hideModal = function() {\n    modal.classList.add(\"hidden\");\n    overlay.classList.add(\"hidden\");\n};\n/*\nconst nextPhaseReady = function () {\n  // >purpose: Make \"Survey\" visible when Consent is filled\n  if (isSafari && isNotChrome) {\n    btnConsent.classList.add(\"hidden\");\n    btnSurvey.classList.add(\"hidden\");\n    document.querySelector(\".instruction-text\").textContent =\n      \"We are sorry but Safari Browser does not support this experiment, please reload the page using another browser\";\n  } else if (consentFilled) {\n    btnSurvey.classList.remove(\"hidden\");\n    btnConsent.classList.add(\"hidden\");\n  } else {\n    btnSurvey.classList.add(\"hidden\");\n  }\n};\n*/ const nextPhaseReady = function() {\n    // >purpose: Make \"Survey\" visible when Consent is filled\n    if (consentFilled) {\n        btnSurvey.classList.remove(\"hidden\");\n        btnConsent.classList.add(\"hidden\");\n    } else btnSurvey.classList.add(\"hidden\");\n};\n/* \n=========== Code execution ===========\n*/ //NOTE This ensure the functionning of the modal window for consent.\nbtnConsent.addEventListener(\"click\", showModal);\n// Collect Consent choice\nbtnConsentAgree.addEventListener(\"click\", function() {\n    consentFilled = true;\n    hideModal();\n    btnConsent.classList.add(\"btn--green\");\n    btnConsent.classList.remove(\"btn--red\");\n    nextPhaseReady();\n});\nbtnConsentDisagree.addEventListener(\"click\", function() {\n    consentFilled = false;\n    hideModal();\n    btnConsent.classList.add(\"btn--red\");\n    btnConsent.classList.remove(\"btn--green\");\n    nextPhaseReady();\n});\n// Closing the modal window\noverlay.addEventListener(\"click\", hideModal);\nbtnCloseModal.addEventListener(\"click\", hideModal);\n//=========== fixing bugs ===========\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent); //experiment bugs a lot on safari\nvar isNotChrome = navigator.userAgent.match(\"CriOS\") == null; //check if user uses chrome\nconsole.log(navigator.userAgent.match(\"CriOS\") == null);\n\n//# sourceMappingURL=WelcomePage.c60d1e9b.js.map\n","'use strict';\n\n/* \n=========== Variables and Selectors ===========\n*/\n\nconst btnConsent = document.querySelector('.btn--consent');\nconst btnSurvey = document.querySelector('.btn--survey');\nconst btnConsentAgree = document.querySelector('.btn-consent-agree');\nconst btnConsentDisagree = document.querySelector('.btn-consent-disagree');\nconst modal = document.querySelector('.modal');\nconst overlay = document.querySelector('.overlay');\nconst btnCloseModal = document.querySelector('.close-modal');\nvar consentFilled = false;\n\n/* \n=========== Fixing page design parameters ===========\n*/\nconst set_margin_top = 12; //copy margin top from the container element (pixels)\nconst set_margin_side = 6; //copy margin side from the container element (pixels)\nconst window_width = window.screen.width;\n// const window_height = window.screen.height; // NOTE changed for smartphone\nconst window_height = window.innerHeight;\n\n//set size of container\ndocument.querySelector('.container').style.height = `${\n  window_height - set_margin_top * 2\n}px`;\ndocument.querySelector('.container').style.width = `${\n  window_width - set_margin_side * 3.5\n}px`;\n\n//set size of modal\ndocument.querySelector('.modal').style.height = `${(9 / 10) * window_height}px`;\ndocument.querySelector('.modal').style.width = `${window_width}px`;\n\n/* \n=========== Functions definition ===========\n*/\nconst showModal = function () {\n  modal.classList.remove('hidden');\n  overlay.classList.remove('hidden');\n};\n\nconst hideModal = function () {\n  modal.classList.add('hidden');\n  overlay.classList.add('hidden');\n};\n/*\nconst nextPhaseReady = function () {\n  // >purpose: Make \"Survey\" visible when Consent is filled\n  if (isSafari && isNotChrome) {\n    btnConsent.classList.add(\"hidden\");\n    btnSurvey.classList.add(\"hidden\");\n    document.querySelector(\".instruction-text\").textContent =\n      \"We are sorry but Safari Browser does not support this experiment, please reload the page using another browser\";\n  } else if (consentFilled) {\n    btnSurvey.classList.remove(\"hidden\");\n    btnConsent.classList.add(\"hidden\");\n  } else {\n    btnSurvey.classList.add(\"hidden\");\n  }\n};\n*/\n\nconst nextPhaseReady = function () {\n  // >purpose: Make \"Survey\" visible when Consent is filled\n  if (consentFilled) {\n    btnSurvey.classList.remove('hidden');\n    btnConsent.classList.add('hidden');\n  } else {\n    btnSurvey.classList.add('hidden');\n  }\n};\n\n/* \n=========== Code execution ===========\n*/\n\n//NOTE This ensure the functionning of the modal window for consent.\nbtnConsent.addEventListener('click', showModal);\n\n// Collect Consent choice\nbtnConsentAgree.addEventListener('click', function () {\n  consentFilled = true;\n  hideModal();\n  btnConsent.classList.add('btn--green');\n  btnConsent.classList.remove('btn--red');\n  nextPhaseReady();\n});\n\nbtnConsentDisagree.addEventListener('click', function () {\n  consentFilled = false;\n  hideModal();\n  btnConsent.classList.add('btn--red');\n  btnConsent.classList.remove('btn--green');\n  nextPhaseReady();\n});\n\n// Closing the modal window\noverlay.addEventListener('click', hideModal);\nbtnCloseModal.addEventListener('click', hideModal);\n\n//=========== fixing bugs ===========\n\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent); //experiment bugs a lot on safari\nvar isNotChrome = navigator.userAgent.match('CriOS') == null; //check if user uses chrome\nconsole.log(navigator.userAgent.match('CriOS') == null);\n"],"names":["btnConsent","document","querySelector","btnSurvey","btnConsentAgree","btnConsentDisagree","modal","overlay","btnCloseModal","consentFilled","window_width","window","screen","width","window_height","innerHeight","style","height","set_margin_top","set_margin_side","hideModal","classList","add","nextPhaseReady","remove","addEventListener","test","navigator","userAgent","match","console","log"],"version":3,"file":"WelcomePage.c60d1e9b.js.map"}